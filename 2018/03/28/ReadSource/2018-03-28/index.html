<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
    <meta name="referrer" content="origin">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>Swift - 3 [Print.swift]</title>

    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/LongCang.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/Monda.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/NotoSansSC.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/Playball.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/PTMono.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/RobotoSlab.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/Rosario.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/UbuntuMono.css">

    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/post.css">
    
        <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/normal.css">
    

    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/jquery-3.4.1.min.js"></script>

<meta name="generator" content="Hexo 5.2.0"></head>
<body>
    <a id="cover"></a>
    <div id="header">
    <div class="header">
        <div class="vertical">
            <div class="inner">
                <h1 class="header-subtitle">Swift - 3 [Print.swift]</h1>
                <div class="header-subinfo">
                    <p class="article-info-text">
                        <span>
                            <i class="iconfont icon-time"></i> å‘è¡¨æ—¶é—´ï¼š2018-03-28
                        </span>
                        
                            <span id="/2018/03/28/ReadSource/2018-03-28/" class="leancloud_visitors" data-flag-title="Swift - 3 [Print.swift]">
                                <i class="iconfont icon-browse"></i> é˜…è¯»ï¼š<sapn class="leancloud-visitors-count"></span>
                            </span>
                        
                        <span>
                            <i class="iconfont icon-interactive"></i> è¯„è®ºï¼š<span class="valine-comment-count" data-xid="/2018/03/28/ReadSource/2018-03-28/"></span>
                        </span>  
                    </p>                 
                </div>
            </div>
        </div>
        <canvas id="articleHeaderCanvas"></canvas>
    </div>
</div>
    <div id="container">
    <div id="content">
        <div id="article">
    <div class="toc"></div>
    <div class="article-body">
        <p>è¿™æ˜¯Swiftæºç  ç³»åˆ—ç¬¬ä¸‰ç¯‡ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„Printå‡½æ•°çš„æºç </p>
<p>####<font color=10a3ee>å®šä¹‰</font><br>Swift å¯¹Print.çš„å®šä¹‰<br>æ ¸å¿ƒå‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@inline(never)</span><br><span class="line">public func print(</span><br><span class="line">  _ items: Any...,</span><br><span class="line">  separator: String &#x3D; &quot; &quot;,</span><br><span class="line">  terminator: String &#x3D; &quot;\n&quot;</span><br><span class="line">) &#123;</span><br><span class="line">  if let hook &#x3D; _playgroundPrintHook &#123;</span><br><span class="line">    var output &#x3D; _TeeStream(left: &quot;&quot;, right: _Stdout())</span><br><span class="line">    _print(</span><br><span class="line">      items, separator: separator, terminator: terminator, to: &amp;output)</span><br><span class="line">    hook(output.left)</span><br><span class="line">  &#125;</span><br><span class="line">  else &#123;</span><br><span class="line">    var output &#x3D; _Stdout()</span><br><span class="line">    _print(</span><br><span class="line">      items, separator: separator, terminator: terminator, to: &amp;output)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>@inline(never) è¯´æ˜äº†è¿™ä¸ªå‡½æ•° never ç¼–è¯‘æˆ inline çš„å½¢å¼ï¼Œ@inline(__always) åˆ™åˆšå¥½ç›¸åã€‚<br>separator å’Œ terminator ä¸¤ä¸ªå‚æ•°ï¼ŒæŒ‰ç…§æ³¨é‡Šå°±æ˜¯åˆ†å‰²ç¬¦å’Œç»ˆæ­¢ç¬¦<br>æ³¨é‡Šç¤ºæ„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">separator: A string to print between each item. The default is a single space (&#96;&quot; &quot;&#96;).</span><br><span class="line">terminator: The string to print after all items have been printed. The default is a newline (&#96;&quot;\n&quot;&#96;).</span><br></pre></td></tr></table></figure>
<p>ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;swift 4.x&quot;, terminator: &quot;---&quot;)</span><br><span class="line">print(&quot;Hello&quot;, &quot;Swift&quot;, 2, separator:&quot;??&quot;)</span><br><span class="line">print(&quot;Hello&quot;, &quot;Swift&quot;, 2, separator:&quot;   &quot;, terminator:&quot;.&quot;)</span><br></pre></td></tr></table></figure>
<p>æ‰“å°å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">swift 4.x---Hello??Swift??2 </span><br><span class="line">Hello   Swift   2.</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤çš„åˆ†éš”ç¬¦å’Œç»ˆæ­¢ç¬¦éƒ½å¯ä»¥æ›¿ä»£<br>æ¥ä¸‹æ¥</p>
<p><code>if let hook = _playgroundPrintHook&#123;&#125;</code></p>
<p>è¿™å¥åº”è¯¥æ˜¯åˆ¤æ–­æ˜¯å¦playgroundï¼Œç„¶åå†è®¾ç½®ç›¸åº”çš„outputï¼Œè¿™é‡Œæ˜¯ç”¨_TeeStream<br>æ¥outputï¼Œè€Œå¦‚æœä¸æ˜¯playgroundï¼Œå…¶ä»–åˆ™æ˜¯_Stdoutã€‚</p>
<p>_TeeStream</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">internal struct _TeeStream&lt;</span><br><span class="line">  L : TextOutputStream,</span><br><span class="line">  R : TextOutputStream</span><br><span class="line">&gt; : TextOutputStream</span><br></pre></td></tr></table></figure>
<p>TextOutputStreamæ˜¯æ ‡å‡†åº“å†…ç½®çš„ä¸€ä¸ªæ ‡å‡†è¾“å‡ºæµåè®®ï¼Œ</p>
<p><code>_TeeStream(left: &quot;&quot;, right: _Stdout())</code></p>
<p>å®é™…ä¸Šè¿˜æ˜¯è°ƒç”¨æ ‡å‡†è¾“å‡ºæµåè®®_Stdout()ï¼ŒTextOutputStreamæ³¨é‡Šå¦‚ä¸‹</p>
<p><img src="./s1.png"></p>
<p>_print</p>
<p>ä»ä¸Šé¢printæ–¹æ³•æœ€åå®è´¨ä¸Šè¿˜æ˜¯è°ƒç”¨_printå‡½æ•°ï¼Œå¯¹å¤–åˆ™æä¾›äº†ä¸€ä¸ªé‡è½½çš„ï¼Œé«˜åº¦å¯å®šåˆ¶çš„printå‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">internal func _print&lt;Target : TextOutputStream&gt;(</span><br><span class="line">  _ items: [Any],</span><br><span class="line">  separator: String &#x3D; &quot; &quot;,</span><br><span class="line">  terminator: String &#x3D; &quot;\n&quot;,</span><br><span class="line">  to output: inout Target</span><br><span class="line">) &#123;</span><br><span class="line">  var prefix &#x3D; &quot;&quot;</span><br><span class="line">  output._lock()</span><br><span class="line">  defer &#123; output._unlock() &#125;</span><br><span class="line">  for item in items &#123;</span><br><span class="line">    output.write(prefix)</span><br><span class="line">    _print_unlocked(item, &amp;output)</span><br><span class="line">    prefix &#x3D; separator</span><br><span class="line">  &#125;</span><br><span class="line">  output.write(terminator)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æ­£æ–‡ç¬¬3è¡Œæœ‰ä¸ªdeferå…³é”®å­—ï¼Œdefer æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚<br>åœ¨ä½œç”¨åŸŸæ–¹é¢ï¼Œdefer block é‡Œçš„ä»£ç ä¼šåœ¨å‡½æ•° return ä¹‹å‰æ‰§è¡Œï¼Œæ— è®ºå‡½æ•°æ˜¯ä»å“ªä¸ªåˆ†æ”¯ return çš„ï¼Œè¿˜æ˜¯æœ‰ throwï¼Œè¿˜æ˜¯è‡ªç„¶è€Œç„¶èµ°åˆ°æœ€åä¸€è¡Œã€‚ç±»ä¼¼ try-catch-finally çš„finallyä¸€æ ·ã€‚å¤šç”¨äºåŠ é”çš„åœºæ™¯ã€‚<br>å†æ¬¡æ¥çœ‹è¿™éƒ¨åˆ†æ ¸å¿ƒä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for item in items &#123;</span><br><span class="line">  output.write(prefix)    &#x2F;&#x2F;æ¯ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ç”¨separatoræ¥åˆ†éš”å¼€</span><br><span class="line">  _print_unlocked(item, &amp;output)  &#x2F;&#x2F; æ ¸å¿ƒå‡½æ•°</span><br><span class="line">  prefix &#x3D; separator </span><br><span class="line">&#125;</span><br><span class="line">output.write(terminator)      &#x2F;&#x2F; ç»ˆæ­¢ç¬¦ï¼Œé€šå¸¸é»˜è®¤æ˜¯&quot;\n&quot;</span><br></pre></td></tr></table></figure>
<p>åˆ°ç°åœ¨æ¥çœ‹åœ¨æ­¤å‡½æ•°é‡Œé¢ï¼Œåªæœ‰_ items: [Any],  to output: inout Target ä¸¤ä¸ªå‚æ•°æœ€ä¸ºå…³é”®ï¼Œä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å…³å¿ƒè¾“å…¥å‚æ•°å’Œè¾“å‡ºåˆ°å“ªé‡Œï¼Œè¾“å‡ºæ ¼å¼åˆ™æ˜¯æ¬¡è¦çš„ã€‚ä»¥ä¸Šä»£ç å¯ä»¥çœ‹çš„å‡ºæ¥<em>printæ˜¯ç”¨æ¥å¤„ç†è¾“å‡ºæ ¼å¼çš„ï¼Œå¹¶å°†</em> items: [Any]é‡Œçš„å…ƒç´ å†™å…¥åˆ°outputä¸­ã€‚<br>ç¤ºä¾‹:</p>
<p><code>print(&quot;Hello,world!&quot;)</code></p>
<p>ç­‰ä»·äº</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var output &#x3D; _Stdout()    &#x2F;&#x2F; è¿™ä¸ªæ˜¯outputçš„é»˜è®¤å€¼</span><br><span class="line">output.write(&quot;&quot;)    &#x2F;&#x2F; prefixæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²</span><br><span class="line">_print_unlocked(&quot;Hello, world!&quot;, &amp;output)</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆè¿™ä¸ªoutputåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ<br>####<font color=10a3ee>_Stdout</font><br>å‰é¢è¯´var output = _Stdout() ï¼Œ_Stdoutçš„å®šä¹‰å’Œæ–¹æ³•ç®€åŒ–å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">internal struct _Stdout : TextOutputStream &#123;</span><br><span class="line">  internal init() &#123;&#125;</span><br><span class="line">  internal mutating func _lock() &#123;</span><br><span class="line">    _swift_stdlib_flockfile_stdout()</span><br><span class="line">  &#125;</span><br><span class="line">  internal mutating func _unlock() &#123;</span><br><span class="line">    _swift_stdlib_funlockfile_stdout()</span><br><span class="line">  &#125;</span><br><span class="line">  internal mutating func write(_ string: String) &#123;</span><br><span class="line">    if string.isEmpty &#123; return &#125;</span><br><span class="line">    if let asciiBuffer &#x3D; string._core.asciiBuffer &#123;</span><br><span class="line">      defer &#123; _fixLifetime(string) &#125;</span><br><span class="line">      _stdlib_fwrite_stdout(</span><br><span class="line">        UnsafePointer(asciiBuffer.baseAddress!),</span><br><span class="line">        asciiBuffer.count,</span><br><span class="line">        1)</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">    for c in string.utf8 &#123;</span><br><span class="line">      _stdlib_putchar_unlocked(Int32(c))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆ_Stdoutç»§æ‰¿äº†TextOutputStreamåè®®ï¼Œé‡å†™äº†writeæ–¹æ³•ï¼Œ<br>åœ¨writeæ–¹æ³•é‡Œï¼Œ</p>
<p><code>if string.isEmpty &#123; return &#125;</code></p>
<p>åˆ¤è¯»è¾“å‡ºä¸ºç©ºï¼Œåˆ™æå‰è¿”å›ï¼›ç„¶å </p>
<p><code>if let asciiBuffer = string._core.asciiBuffer &#123; &#125;</code></p>
<p>æ˜¯å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯asciiç ï¼Œ_stdlib_fwrite_stdoutï¼ˆå®šä¹‰åœ¨LibcShims.cppæ–‡ä»¶ä¸­ï¼‰ï¼Œå‡½æ•°ä¼ å…¥çš„åˆ†åˆ«æ˜¯UnsafePointer(asciiBuffer.baseAddress!)ï¼šå‡½æ•°æŒ‡é’ˆã€asciiBuffer.countï¼šç©ºé—´å¤§å°ã€1ï¼šasciiç çš„æ•°é‡ï¼Œç”±æ­¤çœ‹æ¥å¯¹asciiç å•ç‹¬è¿›è¡Œäº†å¤„ç†ã€‚<br>æ¥ä¸‹æ¥ forå¾ªç¯ï¼Œ_Stdoutæ˜¯åœ¨å­—ç¬¦ä¸²çš„UTF-8ç¼–ç è§†å›¾ä¸‹ï¼ŒæŠŠæ¯ä¸ªå­—ç¬¦è½¬æ¢æˆInt32ç±»å‹ï¼Œç„¶åè°ƒç”¨_stdlib_putchar_unlockedå‡½æ•°ï¼ˆä¹Ÿå®šä¹‰åœ¨LibcShims.cppæ–‡ä»¶ä¸­ï¼‰ï¼Œåˆ°æœ€åæ˜¯è°ƒç”¨cå®šä¹‰çš„å® __sputcã€‚ï¼ˆæœ¬ç³»åˆ—æ˜¯ä¸åˆ†æc è¯­è¨€æ–¹æ³•çš„å…·ä½“å®ç°çš„ï¼ˆå…¶å®æˆ‘ä¹Ÿä¸æ‡‚ã€‚ã€‚ğŸ˜†ï¼‰ï¼‰<br>æœ€åè¿˜æœ‰å¥</p>
<p><code>defer &#123; _fixLifetime(string) &#125;</code></p>
<p> æ„æ€æ˜¯ä¿®å¤è¾“å‡ºæµåœ¨å †ä¸Šçš„ç”Ÿå‘½å‘¨æœŸã€‚<br>æ‰€ä»¥_Stdoutæ˜¯ç»§æ‰¿TextOutputStreamåè®®çš„è¾“å‡ºæµã€‚</p>
<p>####<font color=10a3ee>_print_unlocked</font><br>æˆ‘ä»¬çŸ¥é“äº†_Stdoutåªæ˜¯ä¸ªè¾“å‡ºæµï¼Œå®é™…ä¸Š_printæ˜¯é€šè¿‡_print_unlockedæ¥è¾“å‡ºå†…å®¹çš„ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹(æ–¹æ³•ä½äºOutputSteam.swiftæ–‡ä»¶ä¸­)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">@_versioned</span><br><span class="line">@inline(never)</span><br><span class="line">@_semantics(&quot;optimize.sil.specialize.generic.never&quot;) &#x2F;&#x2F; ä¸è¿›è¡Œsilè¯­ä¹‰ä¼˜åŒ–</span><br><span class="line">internal func _print_unlocked&lt;T, TargetStream : TextOutputStream&gt;(</span><br><span class="line">  _ value: T, _ target: inout TargetStream</span><br><span class="line">) &#123;</span><br><span class="line">  if _isOptional(type(of: value)) &#123;</span><br><span class="line">    let debugPrintable &#x3D; value as! CustomDebugStringConvertible</span><br><span class="line">    debugPrintable.debugDescription.write(to: &amp;target)</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  if case let TextOutputStreamObject as TextOutputTextOutputStream &#x3D; value &#123;</span><br><span class="line">    TextOutputStreamObject.write(to: &amp;target)</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  if case let printableObject as CustomStringConvertible &#x3D; value &#123;</span><br><span class="line">    printableObject.description.write(to: &amp;target)</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  if case let debugPrintableObject as CustomDebugStringConvertible &#x3D; value &#123;</span><br><span class="line">    debugPrintableObject.debugDescription.write(to: &amp;target)</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  let mirror &#x3D; Mirror(reflecting: value)</span><br><span class="line">  _adHocPrint_unlocked(value, mirror, &amp;target, isDebugPrint: false)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æœ‰å››ä¸ªåˆ¤æ–­ï¼Œä¸‰ä¸ªå…³é”®åè®®åˆ¤æ–­ï¼Œåˆ†åˆ«åˆ¤æ–­è¾“å‡ºçš„valueæ˜¯å¦å®ç°äº†æŒ‡å®šçš„TextOutputTextOutputStreamã€CustomStringConvertibleã€CustomDebugStringConvertibleåè®®ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è°ƒç”¨è¯¥åè®®ä¸‹writeToæ–¹æ³•å¹¶æå‰è¿”å›ï¼Œè€Œæœ€åçš„_adHocPrint_unlockedæ˜¯ç”¨äºç¡®ä¿ä»»ä½•ç±»å‹éƒ½æœ‰é»˜è®¤è¾“å‡ºã€‚<br>æ¥çœ‹TextOutputTextOutputStreamåè®®ï¼Œå°±æ˜¯ä¸Šé¢å·²ç»è¯´è¿‡çš„_TeeStreamå‚æ•°åè®®äº†ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public protocol TextOutputTextOutputStream &#123;</span><br><span class="line">  func write&lt;Target : TextOutputStream&gt;(to target: inout Target)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>TextOutputTextOutputStreamåè®®</p>
<p><img src="./QQ20180329-152154.png"></p>
<p>æŸ¥çœ‹ä¸‰ä¸ªåè®®ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œå¦‚æœæ˜¯TextOutputTextOutputStreamåè®®å°±æ‰“å°å‡ºæ¥å®ƒçš„å€¼ï¼›å¦‚æœå®ç°çš„æ˜¯CustomStringConvertibleã€CustomDebugStringConvertibleåè®®ï¼Œprintå®é™…æ‰“å°çš„æ˜¯descriptionå†…å®¹ã€‚<br>ä¹Ÿå°±æ˜¯è¯´å¦‚æœæ˜¯å¯ç©ºå’Œå­—ç¬¦ç±»å‹ï¼Œç›´æ¥æ‰“å°ï¼Œä¸æ˜¯åˆ™ç»§ç»­èµ°ã€‚<br>####<font color=10a3ee>å¤æ‚ç±»å‹</font><br>å…¶ä»–ç±»å‹è°ƒç”¨ä¸‹é¢æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  let mirror &#x3D; Mirror(reflecting: value)</span><br><span class="line">_adHocPrint_unlocked(value, mirror, &amp;target, isDebugPrint: false)</span><br></pre></td></tr></table></figure>

<p>Mirror æ³¨é‡Šå¦‚ä¸‹ï¼š</p>
<p><img src="./QQ20180329-152950.png"><br>ä¹Ÿå°±æ˜¯è¯´æ˜¯ä¸ªæä¾›æ˜¾ç¤ºçš„æ¸²æŸ“ç»“æ„ï¼ˆè¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼‰ã€‚<br>å„ç§ç±»å‹çš„æ‰“å°æ–¹æ³•åœ¨_adHocPrint_unlockedï¼ˆåœ¨OutputStream.Swiftæ–‡ä»¶é‡Œï¼‰æ–¹æ³•é‡Œï¼Œï¼ˆä»£ç åœ¨ä¸‹é¢ï¼‰ï¼Œä¸»è¦å°±æ˜¯ä¸€äº›ç±»å‹åˆ¤æ–­å’Œæ‰“å°ã€‚<br>####<font color=10a3ee>æ€»ç»“</font><br>ä¸Šé¢è¯´_Stdoutæœ‰ä¸ªwriteæ–¹æ³•å¯ä»¥æ‰“å°ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è°ƒç”¨_print_unlockedå‡½æ•°ï¼Ÿå…ˆçœ‹ä¸‹Stringå…³äºåè®®çš„æ‰©å±•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">extension String : TextOutputTextOutputStream &#123;</span><br><span class="line">  public func write&lt;Target : TextOutputStream&gt;(to target: inout Target) &#123;</span><br><span class="line">    target.write(self)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>_print_unlockedå‡½æ•°é‡Œé¢æ–¹æ³•éƒ½æ˜¯è°ƒç”¨çš„write(to:)æ–¹æ³•ï¼Œå®é™…ä¸Šå°±æ˜¯TextOutputTextOutputStreamåè®®çš„æ–¹æ³•ï¼Œç”¨äºè¾“å‡ºå†…å®¹åˆ°å±å¹•ä¸Šï¼Œ_Stdoutçš„writeå‡½æ•°å®é™…ä¸Šä¼šè°ƒç”¨Cè¯­è¨€çš„_stdlib_putchar_unlockedå‡½æ•°,ä½†æ˜¯å­—ç¬¦ä¸²çš„write(to:)è¿˜æ˜¯è°ƒç”¨writeæ–¹æ³•ï¼ˆè§extension String : TextOutputTextOutputStreamï¼‰<br>å®é™…ä¸Šä¹Ÿå°±æ˜¯<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å†…å®¹.writeTo(è¾“å‡ºæµ) &#x3D; è¾“å‡ºæµ.write(å†…å®¹)ï¼Œä¸€èˆ¬åœ¨å‰è€…å†…éƒ¨æ‰§è¡Œåè€…</span><br></pre></td></tr></table></figure><br>å­—ç¬¦ä¸²ä¸ä»…æ˜¯TextOutputTextOutputStreamç±»å‹è¿˜æ˜¯TextOutputStream</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">extension String : TextOutputStream &#123;</span><br><span class="line">  public mutating func write(_ other: String) &#123;</span><br><span class="line">    self +&#x3D; other</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨printæ–¹æ³•æ˜¯ä¸€èˆ¬ä½œä¸ºå¯è¾“å‡ºç‰¹æ€§ã€‚<br>å¦ï¼š<br>debugPrintåœ¨å‘å¸ƒçš„ç‰ˆæœ¬é‡Œä¹Ÿ ä¼šè¾“å‡ºã€‚<br>debugPrintåªæ˜¯æ›´å€¾å‘äºè¾“å‡ºå¯¹è±¡çš„è°ƒè¯•ä¿¡æ¯ã€‚ä¸ç®¡æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯æµ‹è¯•ç¯å¢ƒéƒ½ä¼šè¾“å‡ºçš„ã€‚</p>
<p>####<font color=10a3ee>å®è·µ</font><br>ä¸€ã€å­—ç¬¦ä¸²è¾“å‡º<br>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;Hello, world!&quot;)</span><br></pre></td></tr></table></figure>
<p>è°ƒç”¨ä¸å¸¦outputå‚æ•°çš„printå‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨ç”Ÿæˆ_Stdoutç±»å‹çš„è¾“å‡ºæµï¼Œè°ƒç”¨_printå‡½æ•°<br>åœ¨_printå‡½æ•°ä¸­å›½å¤„ç†å®Œseparatorå’Œterminatorç­‰æ ¼å¼å‚æ•°åï¼Œè°ƒç”¨_print_unlockedå‡½æ•°å¤„ç†å­—ç¬¦ä¸²è¾“å‡ºã€‚<br>åœ¨_print_unlockedå‡½æ•°çš„ç¬¬ä¸€ä¸ªifåˆ¤æ–­ä¸­ï¼Œå› ä¸ºå­—ç¬¦ä¸²ç±»å‹å®ç°äº†TextOutputTextOutputStreamåè®®ï¼Œæ‰€ä»¥è°ƒç”¨å­—ç¬¦ä¸²çš„writeToå‡½æ•°ï¼Œå†™å…¥åˆ°è¾“å‡ºæµä¸­ã€‚<br>æ ¹æ®å­—ç¬¦ä¸²çš„writeToå‡½æ•°çš„å®šä¹‰ï¼Œå®ƒåœ¨å†…éƒ¨è°ƒç”¨äº†è¾“å‡ºæµçš„writeæ–¹æ³•<br>_Stdoutåœ¨å…¶writeæ–¹æ³•ä¸­ï¼Œè°ƒç”¨Cè¯­è¨€çš„putcharå‡½æ•°è¾“å‡ºå­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦</p>
<p>äºŒã€æ ‡å‡†åº“ä¸­å…¶ä»–ç±»å‹è¾“å‡º</p>
<p>å¦‚æœè¦è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä¼¼ä¹å’Œè¾“å‡ºå­—ç¬¦ä¸²ä¸€æ ·ç®€å•ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å…·ä½“çš„æ­¥éª¤ï¼š</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(123) </span><br></pre></td></tr></table></figure>
<p>è°ƒç”¨ä¸å¸¦outputå‚æ•°çš„printå‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨ç”Ÿæˆ_Stdoutç±»å‹çš„è¾“å‡ºæµï¼Œè°ƒç”¨_printå‡½æ•°<br>åœ¨_printå‡½æ•°ä¸­å›½å¤„ç†å®Œseparatorå’Œterminatorç­‰æ ¼å¼å‚æ•°åï¼Œè°ƒç”¨_print_unlockedå‡½æ•°å¤„ç†å­—ç¬¦ä¸²è¾“å‡ºã€‚<br>æˆªæ­¢ç›®å‰å’Œè¾“å‡ºå­—ç¬¦ä¸²ä¸€è‡´ï¼Œä¸è¿‡Intç±»å‹(ä»¥åŠå…¶ä»–é™¤äº†å’Œå­—ç¬¦æœ‰å…³çš„å‡ ä¹æ‰€æœ‰ç±»å‹)æ²¡æœ‰å®ç°TextOutputStreamåè®®ï¼Œå®ƒå®ç°çš„æ˜¯CustomStringConvertibleåè®®ï¼Œå®šä¹‰äº†è‡ªå·±çš„è®¡ç®—å±æ€§description<br>descriptionæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œè°ƒç”¨å­—ç¬¦ä¸²çš„writeToæ–¹æ³•æ­¤å‰å·²ç»è®²è¿‡ï¼Œå°±ä¸å†èµ˜è¿°äº†ã€‚</p>
<p>ä¸‰ã€è‡ªå®šä¹‰ç»“æ„ä½“è¾“å‡º</p>
<p>æˆ‘ä»¬ç®€å•çš„å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œç„¶åå°è¯•ä½¿ç”¨printæ–¹æ³•è¾“å‡ºè¿™ä¸ªç»“æ„ä½“ï¼š<br> ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">struct Person &#123;</span><br><span class="line">    var name: String</span><br><span class="line">    private var age: Int</span><br><span class="line">    init(name: String, age: Int) &#123;</span><br><span class="line">        self.name &#x3D; name</span><br><span class="line">        self.age &#x3D; age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">let kt &#x3D; Person(name: &quot;kt&quot;, age: 21)</span><br><span class="line">print(kt)    &#x2F;&#x2F; è¾“å‡ºç»“æœï¼šPersonStruct(name: &quot;kt&quot;, age: 21)  </span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœçš„å¯è¯»æ€§éå¸¸å¥½ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å…¶ä¸­çš„æ­¥éª¤ï¼š</p>
<p>è°ƒç”¨ä¸å¸¦outputå‚æ•°çš„printå‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨ç”Ÿæˆ_Stdoutç±»å‹çš„è¾“å‡ºæµï¼Œè°ƒç”¨_printå‡½æ•°<br>åœ¨_printå‡½æ•°ä¸­å›½å¤„ç†å®Œseparatorå’Œterminatorç­‰æ ¼å¼å‚æ•°åï¼Œè°ƒç”¨_print_unlockedå‡½æ•°å¤„ç†å­—ç¬¦ä¸²è¾“å‡ºã€‚<br>åœ¨_print_unlockedä¸­è°ƒç”¨_adHocPrintå‡½æ•°<br>switchè¯­å¥åŒ¹é…ï¼Œå‚æ•°ç±»å‹æ˜¯ç»“æ„ä½“ï¼Œæ‰§è¡Œå¯¹åº”caseè¯­å¥ä¸­çš„ä»£ç <br>å‰ä¸¤æ­¥å’Œè¾“å‡ºå­—ç¬¦ä¸²ä¸€æ¨¡ä¸€æ ·ï¼Œä¸è¿‡ç”±äºæ˜¯è‡ªå®šä¹‰çš„ç»“æ„ä½“ï¼Œè€Œä¸”æ²¡æœ‰å®ç°ä»»ä½•åè®®ï¼Œæ‰€ä»¥åœ¨ç¬¬ä¸‰æ­¥éª¤æ— æ³•æ»¡è¶³ä»»æ„ä¸€ä¸ªifåˆ¤æ–­ã€‚äºæ˜¯è°ƒç”¨_adHocPrintå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥ç¡®ä¿ä»»ä½•ç±»å‹éƒ½èƒ½åœ¨printæ–¹æ³•ä¸­è¾ƒå¥½çš„å·¥ä½œã€‚åœ¨_adHocPrintå‡½æ•°ä¸­ä¹Ÿæœ‰switchåˆ¤æ–­ï¼Œå¦‚æœè¢«è¾“å‡ºçš„å˜é‡æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œåˆ™ä¼šæ‰§è¡Œå¯¹åº”çš„æ“ä½œï¼Œ<br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">internal func _adHocPrint_unlocked&lt;T, TargetStream : TextOutputStream&gt;(</span><br><span class="line">    _ value: T, _ mirror: Mirror, _ target: inout TargetStream,</span><br><span class="line">    isDebugPrint: Bool</span><br><span class="line">) &#123;</span><br><span class="line">  func printTypeName(_ type: Any.Type) &#123;</span><br><span class="line">    target.write(_typeName(type, qualified: isDebugPrint))</span><br><span class="line">  &#125;</span><br><span class="line">  if let displayStyle &#x3D; mirror.displayStyle &#123;</span><br><span class="line">    switch displayStyle &#123;</span><br><span class="line">      case .optional:</span><br><span class="line">        if let child &#x3D; mirror.children.first &#123;</span><br><span class="line">          _debugPrint_unlocked(child.1, &amp;target)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          _debugPrint_unlocked(&quot;nil&quot;, &amp;target)</span><br><span class="line">        &#125;</span><br><span class="line">      case .tuple:</span><br><span class="line">        target.write(&quot;(&quot;)</span><br><span class="line">        var first &#x3D; true</span><br><span class="line">        for (label, value) in mirror.children &#123;</span><br><span class="line">          if first &#123;</span><br><span class="line">            first &#x3D; false</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            target.write(&quot;, &quot;)</span><br><span class="line">          &#125;</span><br><span class="line">          if let label &#x3D; label &#123;</span><br><span class="line">            if !label.isEmpty &amp;&amp; label[label.startIndex] !&#x3D; &quot;.&quot; &#123;</span><br><span class="line">              target.write(label)</span><br><span class="line">              target.write(&quot;: &quot;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          _debugPrint_unlocked(value, &amp;target)</span><br><span class="line">        &#125;</span><br><span class="line">        target.write(&quot;)&quot;)</span><br><span class="line">      case .struct:</span><br><span class="line">        printTypeName(mirror.subjectType)</span><br><span class="line">        target.write(&quot;(&quot;)</span><br><span class="line">        var first &#x3D; true</span><br><span class="line">        for (label, value) in mirror.children &#123;</span><br><span class="line">          if let label &#x3D; label &#123;</span><br><span class="line">            if first &#123;</span><br><span class="line">              first &#x3D; false</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">              target.write(&quot;, &quot;)</span><br><span class="line">            &#125;</span><br><span class="line">            target.write(label)</span><br><span class="line">            target.write(&quot;: &quot;)</span><br><span class="line">            _debugPrint_unlocked(value, &amp;target)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        target.write(&quot;)&quot;)</span><br><span class="line">      case .enum:</span><br><span class="line">        if let cString &#x3D; _getEnumCaseName(value),</span><br><span class="line">            let caseName &#x3D; String(validatingUTF8: cString) &#123;</span><br><span class="line">          if isDebugPrint &#123;</span><br><span class="line">            printTypeName(mirror.subjectType)</span><br><span class="line">            target.write(&quot;.&quot;)</span><br><span class="line">          &#125;</span><br><span class="line">          target.write(caseName)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          printTypeName(mirror.subjectType)</span><br><span class="line">        &#125;</span><br><span class="line">        if let (_, value) &#x3D; mirror.children.first &#123;</span><br><span class="line">          if Mirror(reflecting: value).displayStyle &#x3D;&#x3D; .tuple &#123;</span><br><span class="line">            _debugPrint_unlocked(value, &amp;target)</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            target.write(&quot;(&quot;)</span><br><span class="line">            _debugPrint_unlocked(value, &amp;target)</span><br><span class="line">            target.write(&quot;)&quot;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      default:</span><br><span class="line">        target.write(_typeName(mirror.subjectType))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; else if let metatypeValue &#x3D; value as? Any.Type &#123;</span><br><span class="line">    printTypeName(metatypeValue)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    if let cString &#x3D; _opaqueSummary(mirror.subjectType),</span><br><span class="line">        let opaqueSummary &#x3D; String(validatingUTF8: cString) &#123;</span><br><span class="line">      target.write(opaqueSummary)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      target.write(_typeName(mirror.subjectType, qualified: true))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‚¨å¯ä»¥ä»”ç»†é˜…è¯»case is Structè¿™ä¸€æ®µã€‚å¦‚æœæ­¤å‰å®šä¹‰çš„ä¸æ˜¯ç»“æ„ä½“è€Œæ˜¯ç±»ï¼Œé‚£ä¹ˆå¾—åˆ°çš„ç»“æœåªæ˜¯TextOutputStream.PersonStructï¼Œæ ¹æ®defaultæ®µä¸­çš„ä»£ç ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ã€‚</p>
<p>æ­£æ˜¯ç”±äº_adHocPrintæ–¹æ³•ï¼Œä¸ä»…ä»…æ˜¯å­—ç¬¦ä¸²å’ŒSwiftå†…ç½®çš„ç±»å‹ï¼Œä»»ä½•è‡ªå®šä¹‰ç±»å‹éƒ½å¯ä»¥è¢«è¾“å‡ºã€‚ç°åœ¨æ‚¨åº”è¯¥å·²ç»æ˜ç™½ï¼Œä¸ºä»€ä¹ˆè¾“å‡ºprefixç”¨çš„æ˜¯writeæ–¹æ³•ï¼Œè€Œè¾“å‡ºå­—ç¬¦ä¸²â€Hello, world!â€è¦ç”¨_print_unlockedå‡½æ•°äº†å§ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨é‚£ä¸ªæ—¶å€™ï¼Œç¼–è¯‘å™¨è¿˜æ— æ³•åˆ¤å®šè¾“å‡ºå†…å®¹çš„ç±»å‹ã€‚</p>
<p>å››ã€ä¸‡èƒ½çš„String</p>
<p>ä¸çŸ¥é“æ‚¨æœ‰æ²¡æœ‰æ³¨æ„åˆ°ä¸€ä¸ªç»†èŠ‚ï¼ŒStringç±»å‹çš„åˆå§‹åŒ–å‡½æ•°æ˜¯ä¸€ä¸ªæ²¡æœ‰ç±»å‹çº¦æŸçš„èŒƒå‹å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»æ„ç±»å‹éƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™æ˜¯å› ä¸ºStringç±»å‹çš„åˆå§‹åŒ–å‡½æ•°æœ‰ä¸€ä¸ªé‡è½½ä¸ºï¼š<br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">extension String &#123;</span><br><span class="line">  public init&lt;T&gt;(_ instance: T) &#123;</span><br><span class="line">    self.init()</span><br><span class="line">    _print_unlocked(instance, &amp;self)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„å­—ç¬¦ä¸²ä¸æ˜¯ä¸€ä¸ªå¯è¾“å‡ºç±»å‹ï¼Œè€Œæ˜¯ä½œä¸ºè¾“å‡ºæµæ¥ä½¿ç”¨ã€‚_print_unlockedå°†instanceè¾“å‡ºåˆ°å­—ç¬¦ä¸²æµä¸­ã€‚</p>
<p>è°ƒè¯•è¾“å‡º<br>åœ¨_print_unlockedå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å®ƒåœ¨è¾“å‡ºé»˜è®¤å€¼ä¹‹å‰ï¼Œä¸€å…±ä¼šè¿›è¡Œä¸‰æ¬¡åˆ¤æ–­ã€‚ä¾æ¬¡æ£€éªŒè¢«è¾“å‡ºçš„å˜é‡æ˜¯å¦å®ç°äº†TextOutputStreamã€CustomStringConvertibleå’ŒCustomDebugStringConvertibleï¼Œåªè¦å®ç°äº†åè®®ï¼Œå°±ä¼šè¿›è¡Œç›¸åº”çš„å¤„ç†å¹¶æå‰é€€å‡ºå‡½æ•°ã€‚</p>
<p>è¿™ä¸‰ä¸ªåè®®çš„ä¼˜å…ˆçº§ä¾æ¬¡é™ä½ï¼Œä¹Ÿå°±æ˜¯å¦‚æœä¸€ä¸ªç±»å‹æ—¢å®ç°äº†TextOutputStreamåè®®åˆå®ç°äº†CustomStringConvertibleåè®®ï¼Œé‚£ä¹ˆå°†ä¼šä¼˜å…ˆè°ƒç”¨TextOutputStreamåè®®ä¸­å®šä¹‰çš„writeToæ–¹æ³•ã€‚ä»è¿™ä¸ªä¼˜å…ˆçº§é¡ºåºæ¥çœ‹ï¼Œprintå‡½æ•°æ›´å€¾å‘äºå­—ç¬¦ä¸²çš„æ­£å¸¸è¾“å‡ºè€Œéè°ƒè¯•è¾“å‡ºã€‚</p>
<p>Swiftä¸­è¿˜æœ‰ä¸€ä¸ªdebugPrintå‡½æ•°ï¼Œå®ƒæ›´å€¾å‘äºè¾“å‡ºå­—ç¬¦ä¸²çš„è°ƒè¯•ä¿¡æ¯ã€‚è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œä¸‰ä¸ªåè®®çš„ä¼˜å…ˆçº§å®Œå…¨ç›¸åï¼š<br>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">extension PersonDebug: CustomStringConvertible, CustomDebugStringConvertible &#123;</span><br><span class="line">    var description: String &#123;</span><br><span class="line">        return &quot;In CustomStringConvertible Protocol&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    var debugDescription: String &#123;</span><br><span class="line">        return &quot;In CustomDebugStringConvertible Protocol&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">let kt &#x3D; PersonDebug(name: &quot;kt&quot;, age: 21)</span><br><span class="line">print(kt)    &#x2F;&#x2F; &quot;In CustomStringConvertible Protocol&quot;</span><br><span class="line">debugPrint(kt)    &#x2F;&#x2F;&quot;In CustomDebugStringConvertible Protocol&quot;</span><br></pre></td></tr></table></figure>
<p>åˆšåˆšæˆ‘ä»¬è¯´åˆ°ï¼Œåˆ›å»ºå­—ç¬¦ä¸²æ—¶å¯ä»¥ä¼ å…¥ä»»æ„çš„å‚æ•°valueï¼Œæœ€åçš„å­—ç¬¦ä¸²çš„å€¼å’Œè°ƒç”¨print(value)çš„ç»“æœå®Œå…¨ç›¸åŒï¼Œè¿™æ˜¯å› ä¸ºä¸¤è€…éƒ½ä¼šè°ƒç”¨_print_unlockedæ–¹æ³•ã€‚å¯¹åº”åˆ°debugPrintå‡½æ•°åˆ™æœ‰ï¼š<br>ä»£ç å¦‚ä¸‹:<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">extension String &#123;</span><br><span class="line">  public init&lt;T&gt;(reflecting subject: T) &#123;</span><br><span class="line">    self.init()</span><br><span class="line">    debugPrint(subject, terminator: &quot;&quot;, toStream: &amp;self)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><br>ç®€å•æ¥è¯´ï¼Œåœ¨_adHocPrintå‡½æ•°ä¹‹å‰ï¼Œè¿™ä¸¤ä¸ªè¾“å‡ºå‡½æ•°çš„è°ƒç”¨æ ˆæ˜¯å®Œå…¨å¹³è¡Œçš„å…³ç³»</p>
<p>å‚è€ƒæ–‡æ¡£:<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/25951195/swift-print-vs-println-vs-nslog">Swift: print() vs println() vs NSLog()</a><br><a target="_blank" rel="noopener" href="https://oleb.net/blog/2016/09/playground-print-hook/">_playgroundPrintHook</a><br><a target="_blank" rel="noopener" href="https://juejin.im/entry/583fd96f2f301e005cf5568d">Swift - Defer; defer; defer - iO</a><br><a target="_blank" rel="noopener" href="http://www.code4app.com/thread-27302-1-1.html">swift çš„ defer å‡ ä¸ªç®€å•çš„ä½¿ç”¨åœºæ™¯,defer</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/hello_hwc/article/details/46043691">Swiftï¼UnsafePointer, UnsafeMutablePointerï¼ŒAutoreleasingUnsafeMutablePointer</a><br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/wodemeng/p/5795431.html">UnsafePointer</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/773c46edb735">Swift æºç è§£è¯» - Print.swift</a></p>
<!-- [ä½ å…¶å®çœŸçš„ä¸æ‡‚print("Hello,world")](https://www.jianshu.com/p/773c46edb735) -->
        <p class="suffix-end">__END__</p>
        <div class="suffix-box">
            <div class="suffix-box-left">
                <img src="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/sidebar/avatar.jpg" alt="æ—æ±Ÿä»™">
            </div>
            <div class="suffix-box-right">
                <span class="suffix-box-title">æ–‡ç« ä½œè€…</span>ï¼šæ—æ±Ÿä»™
                <br>
                <span class="suffix-box-title">æ–‡ç« å‡ºå¤„</span>ï¼š<a href="/2018/03/28/ReadSource/2018-03-28/" target="_blank">Swift - 3 [Print.swift]</a>
                <br>
                <span class="suffix-box-title">ä½œè€…ç­¾å</span>ï¼šæ‰€æœ‰ä¼Ÿå¤§çš„äº‹æƒ…éƒ½æºäºæ¢¦æƒ³ï¼Œå§‹äºå¾®ä¸è¶³é“.
                <br>
                <span class="suffix-box-title">å…³äºä¸»é¢˜</span>ï¼š<a href="https://github.com/first19326/Hexo-LiveForCode" target="_blank">Hexo - Live For Code</a>
                <br>
                <span class="suffix-box-title">ç‰ˆæƒå£°æ˜</span>ï¼šæ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" title="BY-NC-SA" target="_blank">BY-NC-SA</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„
                <br>
            </div>
            <div style="clear: both;"></div>
        </div>
    </div>
    <div class="article-footer">
        
        
        <div class="article-prev-next">
            
                <a href="/2018/05/10/ReadSource/2018-05-10/" class="prev-prefix">Â« </a> ä¸Šä¸€ç¯‡ï¼š    <a href="/2018/05/10/ReadSource/2018-05-10/" title="å‘å¸ƒäº 2018-05-10 12:00">Swift - 4 [Map.swift]</a>
                <br>
            
            
                <a href="/2018/01/25/ReadSource/2018-01-25/" class="next-prefix">Â» </a> ä¸‹ä¸€ç¯‡ï¼š    <a href="/2018/01/25/ReadSource/2018-01-25/" title="å‘å¸ƒäº 2018-01-25 12:00">Swift - 2 [Bool.swift]</a>
            
        </div>
    </div>
    
    <div class="article-comments">
        <div class="comments-title">
            è¯„è®ºåˆ—è¡¨
        </div>
        <div class="comments-content">
        </div>
    </div>

</div>

    </div>
</div>
    <div id="footer"></div>
    <div id="sidebar">
    <div class="menu-wrap" style="display:none;">
        <nav class="menu">
            <div class="menu-introduce"> 
                <div class="introduce-avatar"></div> 
                <div class="introduce-info"> 
                    <div class="introduce-user"><span></span></div>        
                </div> 
            </div> 
            <div class="menu-list">
                <ul></ul> 
            </div> 
            <div class="menu-link"></div> 
        </nav>
        <button class="menu-button-close"></button>
        <div class="morph-shape" id="morph-shape" data-morph-open="M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z">
            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 800" preserveAspectRatio="none">
                <path d="M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z"/>
            </svg>
        </div>
    </div>
    <button class="menu-button-open">MENU</button>
    <div class="menu-cover"></div>
</div>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/search.css">
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/iscroll.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/instantsearch.min.js"></script>
<div class="search-window">
    <div class="search-content">
        <div class="search-content-icon">
            <i class="iconfont icon-search"></i>
        </div>
        <div id="search-input" class="search-input"></div>
    </div>

    <div class="search-scroll">
        <div class="search-result">
            <div id="search-stats" class="search-stats"></div>
            <div id="search-hits"></div>
            <div id="search-pagination" class="search-pagination"></div>
        </div>
    </div>

    <span class="search-close-icon">
        <i class="iconfont icon-close"></i>
    </span>
</div>
    <div id="tools">
    <div class="progressbar-top"></div>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/APlayer.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/APlayer.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/Meting.min.js"></script>
    <meting-js id="3778678" lrcshow="false" server="netease" type="playlist" fixed="true" autoplay="false" loop="all" order="random" preload="auto" volume="0.67" mutex="true"></meting-js>
    <div class="wrap-right"></div>
    <div class="loading"></div>
</div>
    <script>
    window.config = {
        GitHubUserName     : 'kaikaka',
        GitHubRepositories : 'Hexo-LiveForCode',

        BlogUser      : 'æ—æ±Ÿä»™',
        BlogAvatar    : 'https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/sidebar/avatar.jpg',
        BlogStartDate : '2020-10-24',

        WebsiteTitleBlur         : 'Hi, æ—æ±Ÿä»™',
        WebsiteTitleBlurTimeOut  : 500,
        WebsiteTitleFocus        : '(*Â´âˆ‡ï½€*) æ¬¢è¿å›æ¥!',
        WebsiteTitleFocusTimeOut : 1000,
        WebsiteFavicon           : 'https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/website/logo.png',

        ProgressBar: {
            id       : 'topProgressBar',
            color    : '#77B6FF',
            height   : '2px',
            duration : 0.2
        },

        Loading: {
            rebound: {
                tension  : 16,
                friction : 5
            },
            spinner: {
                id     : 'spinner',
                radius : 90,
                sides  : 3,
                depth  : 4,
                colors : {
                    background : '#F0F0F0',
                    stroke     : '#272633',
                    base       : '',
                    child      : '#272633'
                },
                alwaysForward : true,
                restAt        : 0.5,
                renderBase    : false
            }
        },

        HomeHeaderAnimationRendered : true,
        HomeHeaderAnimation         : {
            radius      : 15,
            density     : 0.2,
            color       : 'rgba(255, 255, 255, .2)',
            clearOffset : 0.3
        },

        ArticleHeaderAnimationRendered : false,
        ArticleHeaderAnimation         : {
            triW                  : 14,
            triH                  : 20,
            neighbours            : [
                
                    'side',
                
                    'top',
                
                    'bottom',
                
            ],
            speedTrailAppear      : 0.1,
            speedTrailDisappear   : 0.1,
            speedTriOpen          : 1,
            trailMaxLength        : 30,
            trailIntervalCreation : 100,
            delayBeforeDisappear  : 2,
            colors                : [
                
                    '#96EDA6',
                
                    '#5BC6A9',
                
                    '#38668C',
                
                    '#374D84',
                
                    '#BED5CB',
                
                    '#62ADC6',
                
                    '#8EE5DE',
                
                    '#304E7B',
                
            ]
        },

        BackAnimationRendered          : true,
        IEBrowserBackAnimationRendered : false,
        BackAnimation                  : {
            colorSaturation  : '60%',
            colorBrightness  : '50%',
            colorAlpha       : 0.5,
            colorCycleSpeed  : 5,
            verticalPosition : 'random',
            horizontalSpeed  : 200,
            ribbonCount      : 3,
            strokeSize       : 0,
            parallaxAmount   : -0.2,
            animateSections  : true
        },

        HomeHeaderImage : [
            
                'https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/header/home.jpg',
            
                'https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/header/home.jpeg',
            
        ],
        HomeBannerText  : '',

        ArticleHeaderImage : [
            
                'https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/header/article.jpg',
            
        ],

        OtherBannerText  : '',

        MenuList : [
            
                {
                    name   : 'é¦–é¡µ',
                    href   : '/',    
                    target : '',
                    class  : ''
                },
            
                {
                    name   : 'æ ‡ç­¾',
                    href   : '/tag',    
                    target : '',
                    class  : ''
                },
            
                {
                    name   : 'åˆ†ç±»',
                    href   : '/category',    
                    target : '',
                    class  : ''
                },
            
                {
                    name   : 'å½’æ¡£',
                    href   : '/archive',    
                    target : '',
                    class  : ''
                },
            
                {
                    name   : 'èµèµ',
                    href   : '/donate',    
                    target : '',
                    class  : ''
                },
            
                {
                    name   : 'å…³äº',
                    href   : '/about',    
                    target : '',
                    class  : ''
                },
            
                {
                    name   : 'è®¢é˜…',
                    href   : '/atom.xml',    
                    target : '_blank',
                    class  : ''
                },
            
                {
                    name   : 'æœç´¢',
                    href   : '',    
                    target : '',
                    class  : 'search'
                },
            
                {
                    name   : 'ç•™è¨€æ¿',
                    href   : '/comment',    
                    target : '',
                    class  : ''
                },
            
                {
                    name   : 'å‹æƒ…é“¾æ¥',
                    href   : '/friend',    
                    target : '',
                    class  : ''
                },
            
        ],
        MenuLink : [
            
                {
                    icon : 'icon-weibo', 
                    url  : ''
                },
            
                {
                    icon : 'icon-wechat', 
                    url  : ''
                },
            
                {
                    icon : 'icon-qq', 
                    url  : ''
                },
            
                {
                    icon : 'icon-github', 
                    url  : 'https://github.com/kaikaka'
                },
            
        ],

        FooterStyle : 2,
        BottomText  : {
            icon    : '',
            left    : 'æ€ç»´æ®¿å ‚',
            right   : 'æ‰€æœ‰ä¼Ÿå¤§çš„äº‹æƒ…éƒ½æºäºæ¢¦æƒ³,å§‹äºå¾®ä¸è¶³é“.'
        },
        ThemeInfo   : false,

        ConsoleList : [
            
                [
                    
                        'Based on cnblogs theme SimpleMemory.',
                    
                        '',
                    
                ],
            
                [
                    
                        'SimpleMemory Author:',
                    
                        'BNDong',
                    
                ],
            
                [
                    
                        'Theme:',
                    
                        'LiveForCode',
                    
                ],
            
        ],

        FontIconExtend : "",

        Donate : {
            paypal  : '',
            bitcoin : '',
            alipay  : 'https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/donate/alipay.png',
            wechat  : 'https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/donate/wechat.png'
        },

        Code : {
            style : 'normal'
        },  

        Search : {
            applicationID : '010C3EANT8',
            apiKey        : 'c7abab9f11b79102b9aff7fe6d41447d',
            indexName     : 'Notes',
            hits          : {
                page : 10
            },
            labels        : {
                placeholder : 'æœç´¢',
                empty       : 'æœªå‘ç°ä¸ ã€Œ${query}ã€ ç›¸å…³çš„å†…å®¹',
                stats       : '${hits} æ¡ç›¸å…³æ¡ç›®ï¼Œä½¿ç”¨äº† ${time} æ¯«ç§’',
            }
        }, 

        Valine : {
            switch         : true,
            el             : '.comments-content',
            appId          : 'srhKtvWPQTWYKh3qX8G8M7v0-gzGzoHsz',
            appKey         : '8uVSP1q6UlALVC5igYfIfv2h',
            placeholder    : 'ä½ æ˜¯æˆ‘ä¸€ç”Ÿåªä¼šé‡è§ä¸€æ¬¡çš„æƒŠå–œ...',
            avatar         : 'mm',
            meta           : 'nick,mail,link',
            requiredFields : 'nick,mail',
            pageSize       : 5,
            lang           : 'zh-cn',
            visitor        : true,
            enableQQ       : true
        },

        Tocbot : {
            switch                : true,
            tocSelector           : '.toc',
            contentSelector       : '.article-body',
            headingSelector       : 'h1, h2, h3, h4, h5',
            headingsOffset        : 0,
            scrollSmooth          : true,
            scrollSmoothOffset    : -5,
            positionFixedSelector : '.toc',
            positionFixedClass    : 'toc-fixed',
            fixedSidebarOffset    : '',
        },

        Require : {
            baseUrl     : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/",
            waitSeconds : 100
        },

        Meting : {
            id       : "3778678", 
            lrcshow  : false, 
            server   : "netease", 
            type     : "playlist", 
            fixed    : true, 
            autoplay : false, 
            loop     : "all", 
            order    : "random", 
            preload  : "auto", 
            volume   : 0.67, 
            mutex    : true
        },

        LazyLoad : {
            default : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/image/website/lazyload.svg"
        },
  

        Style : {
            aplayer          : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/APlayer.css",
            archive          : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/archive.css",
            donate           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/donate.css",
            fancybox         : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/jquery.fancybox.css",
            footer           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/footer.css",
            iconfont         : "https://at.alicdn.com/t/font_1546312_l3yohatebw.css",
            index            : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/index.css",
            menuBubble       : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/menu-bubble.css",
            page             : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/page.css",
            post             : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/post.css",
            search           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/search.css",
            tocbot           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/tocbot.css",
            normal           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/normal.css",
            night            : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/night.css",
            clipboard        : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/css/clipboard.css"
        },

        Script: {
            aplayer          : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/APlayer.min.js",
            config           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/require.config.js",
            index            : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/index.js",
            instantSearch    : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/instantsearch.min.js",
            jQuery           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/jquery-3.4.1.min.js",
            loading          : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/loading.js",
            meting           : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/Meting.min.js",
            iscroll          : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/iscroll.js",
            require          : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/require.min.js"
        },

        Font: {
            LongCang   : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/LongCang.css",
            Monda      : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/Monda.css",
            NotoSansSC : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/NotoSansSC.css",
            Playball   : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/Playball.css",
            PTMono     : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/PTMono.css",
            RobotoSlab : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/RobotoSlab.css",
            Rosario    : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/Rosario.css",
            UbuntuMono : "https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/font/UbuntuMono.css"
        },

        Suffix : {
            about : 'æ‰€æœ‰ä¼Ÿå¤§çš„äº‹æƒ…éƒ½æºäºæ¢¦æƒ³ï¼Œå§‹äºå¾®ä¸è¶³é“.'
        },
            
        Theme : {
            url  : 'https://github.com/first19326/Hexo-LiveForCode',
            name : 'Hexo - Live For Code'
        }  
    };
</script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/first19326/hexo-liveforcode@master/static/js/index.js"></script>
</body>
</html>
